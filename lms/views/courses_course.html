<%inherit file="base.html"/>
<div class="row">
	<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="c in outline.children" ng-click="doLoadSection(c); $event.stopPropagation();">
                <span>{{c.display_name}}</span>
                <ul class="list-group">

                	<li class="list-group-item" ng-repeat="s in c.children"  ng-click="doLoadSection(s); $event.stopPropagation();">
                        <span>{{s.display_name}}</span>
                        <ul class="list-group">
                        	<li class="list-group-item" ng-repeat="ss in s.children"  ng-click="doLoadSection(ss); $event.stopPropagation();">
                                    {{ss.display_name}}
                            </li>
                        </ul>

                    </li>
                </ul>
            </li>

        </ul>
	</div>
    <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
    	<iframe src="{{$root.url}}" style="width:100%;height:1200px">

        </iframe>
    </div>
</div>

<script>
    function onInit(scope){
        scope.doLoadSection=function(section){
            alert("OK");
            scope.$root.url = section.student_view_url;
            scope.$applyAsync();
        }
        scope.outline=${toJson(outline)}
        console.log(scope.outline);
    }
</script>